{% extends 'donor/donorbase.html' %} 
{% block content %}
{% load widget_tweaks %} 
{%load static%}
<head>
  <style>
    .label {
      color: white;
      padding: 8px;
    }

    .success {
      background-color: #4caf50;
    } /* Green */
    .info {
      background-color: #2196f3;
    } /* Blue */
    .warning {
      background-color: #ff9800;
    } /* Orange */
    .danger {
      background-color: #f44336;
    } /* Red */
    .other {
      background-color: #e7e7e7;
      color: black;
    } /* Gray */
  </style>
</head>
<br /><br />
<div class="container">
  <h4 class="text-center">My Donation History</h4>
  <br />
  {% if donations %}
  <table class="table table-light table-hover table-bordered table-striped">
    <thead class="bg-dark">
      <tr>
        <th scope="col" style="color: rgb(192, 192, 192)">Donor's Age</th>
        <th scope="col" style="color: rgb(192, 192, 192)">Disease (if any)</th>
        <th scope="col" style="color: rgb(192, 192, 192)">Blood Group</th>
        <th scope="col" style="color: rgb(192, 192, 192)">Unit</th>
        <th scope="col" style="color: rgb(192, 192, 192)">Date</th>
        <th scope="col" style="color: rgb(192, 192, 192)">Status</th>
        <th scope="col" style="color: rgb(192, 192, 192)">health Check</th>
      </tr>
    </thead>
    <tbody>
      {% for t in donations %}
      <tr>
        <td>{{t.age}}</td>
        <td>{{t.disease}}</td>

        <td>{{t.bloodgroup}}</td>
        <td>{{t.unit}}</td>
        <td>{{t.date}}</td>
        {% if t.status == 'Approved' %}
        <td><span class="label success"> Approved</span></td>

        {% elif t.status == 'Rejected' %}
        <td><span class="label danger">Rejected</span></td>
        {% else %}

        <td>
          <span style="color: white; margin-left: 0px" class="label info"
            >Pending</span
          >
        </td>
        {% endif %} {% if t.health_check_passed %}
        <td><span class="label success"> Passed</span></td>

        {% elif t.status == 'Rejected' %}
        <td><span class="label danger">Failed</span></td>
        {% else %}

        <td>
          <span style="color: white; margin-left: 0px" class="label info"
            >Pending</span
          >
        </td>
        {% endif %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endif %} {% endblock %}
